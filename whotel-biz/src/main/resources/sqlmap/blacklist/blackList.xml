<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mk.whotel.biz.mapper.blacklist.BlackListMapper">

	<resultMap id="blackList" type="com.mk.whotel.biz.moudle.BlackList">
	    <result property="id" column="id" />
	    <result property="mid" column="mid" />
	    <result property="idcard" column="idcard" />
        <result property="loginName" column="loginName" />
        <result property="userName" column="userName" />
        <result property="phone" column="phone" />
        <result property="memo" column="memo" />
        <result property="opUserName" column="opUserName" />
        <result property="opUserCode" column="opUserCode" />
        <result property="flag" column="flag" />
        <result property="regTime" column="regTime" />
        <result property="createTime" column="createTime" />

	</resultMap>



    <sql id="Base_Column_List" >
        id, mid, idcard, loginName, userName, phone, memo, opUserName, opUserCode, flag, regTime,createTime
    </sql>

    <select id="query" resultMap="blackList">
        SELECT
        <include refid="Base_Column_List"/>
         FROM  blacklist
        WHERE flag = '1'
    </select>
    
    <insert id="saveBlackList"  parameterType="com.mk.whotel.biz.moudle.BlackList" >
        INSERT INTO blacklist
         ( mid, idcard, loginName, userName, phone, memo, opUserName, opUserCode, flag, regTime,createTime)
         VALUE
         (
            #{mid},
            #{idcard},
            #{loginName},
            #{userName},
            #{phone},
            #{memo},
            #{opUserName},
            #{opUserCode},
            #{flag},
            #{regTime},
            #{createTime}
            )
    </insert>


    <delete id="deleteBlackList" parameterType="Integer">
         delete from blacklist where id = #{id}
    </delete>

    <update id="updateBlackList" parameterType="com.mk.whotel.biz.moudle.BlackList" >
        update blacklist
        set
         mid = #{mid},
         idcard = #{idcard},
         loginName = #{loginName},
         userName =  #{userName},
         phone =  #{phone},
         memo  = #{memo},
         opUserName =  #{opUserName},
         opUserCode =  #{opUserCode},
         flag  = #{flag},
         regTime  = #{regTime},
         createTime =  #{createTime}

        where id = #{id}
    </update>

    <select id="countBlacklist" resultType="Integer">
        select count(*) from blacklist where  flag='1'
    </select>

</mapper>
